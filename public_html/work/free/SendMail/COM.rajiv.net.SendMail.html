<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Thu Sep 18 02:44:32 EDT 1997 -->
<title>
  Class COM.rajiv.net.SendMail
</title>
</head>
<body>
<a name="_top_"></a>
<a href="AllNames.html">Index</a>
<hr>
<h1>
  Class COM.rajiv.net.SendMail
</h1>
<pre>
COM.rajiv.net.SendMail
</pre>
<hr>
<dl>
  <dt> public class <b>SendMail</b>
</dl>
The SendMail class provides a simple mechanism for sending
e-mails using SMTP.
<p>
<dl>
  <dt> <b>Version:</b>
  <dd> 1.0 1996/Sep/17
  <dt> <b>Author:</b>
  <dd> Rajiv Pant (Betul)  betul@rajiv.com  http://rajiv.com
</dl>
<hr>
<a name="index"></a>
<h2>
  
</h2>
<dl>
  <dt> 
	<a href="#SendMail()"><b>SendMail</b></a>()
  <dd> 
</dl>
<h2>
  
</h2>
<dl>
  <dt> 
	<a href="#deliver()"><b>deliver</b></a>()
  <dd> The deliver() method connects to the SMTP server and delivers the message.
  <dt> 
	<a href="#getSMTPServer()"><b>getSMTPServer</b></a>()
  <dd> The getSMTPServer() method returns the name of the currently
set SMTP Server.
  <dt> 
	<a href="#setBody(COM.rajiv.net.String)"><b>setBody</b></a>(String)
  <dd> The setBody (String) method sets the message's body text.
  <dt> 
	<a href="#setFrom(COM.rajiv.net.String)"><b>setFrom</b></a>(String)
  <dd> The setFrom (String) method sets the "From" address used
in the "MAIL FROM: " part of the SMTP handshake.
  <dt> 
	<a href="#setHeaders(COM.rajiv.net.String)"><b>setHeaders</b></a>(String)
  <dd> The setHeaders (String) method sets the message's headers.
  <dt> 
	<a href="#setSMTPServer(COM.rajiv.net.String)"><b>setSMTPServer</b></a>(String)
  <dd> The setSMTPServer(String) method is used to set the name of the
SMTP server the deliver method will use to deliver the message.
  <dt> 
	<a href="#setTo(COM.rajiv.net.String)"><b>setTo</b></a>(String)
  <dd> The setTo (String) method sets the "To" address used
in the "RCPT TO: " part of the SMTP handshake.
</dl>
<a name="constructors"></a>
<h2>
  
</h2>
<a name="SendMail"></a>
<a name="SendMail()"></a>
<b>SendMail</b>
<pre>
 public SendMail()
</pre>
<a name="methods"></a>
<h2>
  
</h2>
<a name="setSMTPServer(COM.rajiv.net.String)"></a>
<a name="setSMTPServer"><b>setSMTPServer</b></a>
<pre>
 public void setSMTPServer(String host)
</pre>
<dl>
  <dd> The setSMTPServer(String) method is used to set the name of the
SMTP server the deliver method will use to deliver the message.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> host - The host to use as the SMTP server.
  </dl></dd>
</dl>
<a name="getSMTPServer()"></a>
<a name="getSMTPServer"><b>getSMTPServer</b></a>
<pre>
 public String getSMTPServer()
</pre>
<dl>
  <dd> The getSMTPServer() method returns the name of the currently
set SMTP Server.
<p>
</dl>
<a name="setFrom(COM.rajiv.net.String)"></a>
<a name="setFrom"><b>setFrom</b></a>
<pre>
 public void setFrom(String address)
</pre>
<dl>
  <dd> The setFrom (String) method sets the "From" address used
in the "MAIL FROM: " part of the SMTP handshake.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> address - The e-mail address of sender of the message.
  </dl></dd>
</dl>
<a name="setTo(COM.rajiv.net.String)"></a>
<a name="setTo"><b>setTo</b></a>
<pre>
 public void setTo(String address)
</pre>
<dl>
  <dd> The setTo (String) method sets the "To" address used
in the "RCPT TO: " part of the SMTP handshake.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> address - The e-mail address of the message recipient.
  </dl></dd>
</dl>
<a name="setHeaders(COM.rajiv.net.String)"></a>
<a name="setHeaders"><b>setHeaders</b></a>
<pre>
 public void setHeaders(String text)
</pre>
<dl>
  <dd> The setHeaders (String) method sets the message's headers.
Each header is separated by a new line.
<br>
The "From: " and a "To: " need to be specified even though
the From and To used in the SMTP handshake are set by the
setFrom (String) and setTo (String) methods.
<pre>
--- begin example ---
From: Rajiv Betul <betul@rajiv.org>
To: Bill Gates <William.Henry.Gates.III@microsoft.com>
Cc: Scott McNealey <Scott.McNeally@sun.com>
Bcc: Cool Person <cool@cool-people.com>
Subject: Tomorrow's Party
--- end example ---
<pre>
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> text - The message headers.
  </dl></dd>
</dl>
<a name="setBody(COM.rajiv.net.String)"></a>
<a name="setBody"><b>setBody</b></a>
<pre>
 public void setBody(String text)
</pre>
<dl>
  <dd> The setBody (String) method sets the message's body text.
<pre>
TO DO: Check the body text to make sure it does not contain
a lone period in a line by itself.
Also fix lines that begin with a "From ".
</pre>
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> text - The message body.
  </dl></dd>
</dl>
<a name="deliver()"></a>
<a name="deliver"><b>deliver</b></a>
<pre>
 public void deliver() throws SendMailCouldNotDeliverException
</pre>
<dl>
  <dd> The deliver() method connects to the SMTP server and delivers the message.
The String it returns contains any responses it gets from the
SMTP server while trying to deliver the e-mail.
<br>
This method does not retry or queue the message for later delivery
if the connection fails.
I may upgrade it later to become more fail-safe.
<br>
For more information on SMTP, refer to the following documents:
<br>
RFC822 (Message Format)
ftp://ds.internic.net/rfc/rfc822.txt
<br>
RFC821 (SMTP Protocol)
ftp://ds.internic.net/rfc/rfc821.txt
<br>
RFC1891 - 1894 (ESMTP Extensions)
ftp://ds.internic.net/rfc/rfc1891.txt
<p>
  <dd><dl>
    <dt> <b>Throws:</b> SendMailCouldNotDeliverException
    <dd> when the server could not deliver the message.
  </dl></dd>
</dl>
<hr>
<a href="AllNames.html">Index</a>
</body>
</html>
